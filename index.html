<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Joan Verge Flores - Portfolio de Moda, Colección de Graduación 2025">
    <title>JOAN VERGE FLORES — GRADUATE COLLECTION 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Playfair+Display:ital@1&family=Space+Grotesk:wght@300;500&display=swap" rel="stylesheet">

    <!-- Precarga de imágenes críticas -->
    <link rel="preload" as="image" href="DISSENYS-WEBP/main.webp" fetchpriority="high" type="image/webp">
    <link rel="preload" as="image" href="DISSENYS-WEBP/1-diseño1.webp" fetchpriority="high" type="image/webp">
    <link rel="preload" as="image" href="DISSENYS-WEBP/2-diseño1.webp" type="image/webp">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--bg:#000;--bg-alt:#1a1a1a;--text:#fff;--accent:#e63946}
        html{scroll-behavior:smooth}
        body{font-family:'Space Grotesk',sans-serif;background:var(--bg-alt);color:var(--text);overflow-x:hidden;cursor:crosshair;-webkit-font-smoothing:antialiased}
        body *,a,button{cursor:crosshair!important}
        img{display:block;max-width:100%;height:auto;background:#0a0a0a}

        /* Picture element debe comportarse transparente */
        picture{display:contents}

        /* Sistema de carga progresiva */
        img[loading="lazy"]:not(.loaded){image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}
        section{min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center;padding:0}

        /* Fixed UI */
        .logo-fixed{position:fixed;top:40px;left:40px;z-index:1000;writing-mode:vertical-rl;transform:rotate(180deg) translateZ(0);font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:4px;mix-blend-mode:difference;pointer-events:none}
        .page-counter{position:fixed;top:40px;right:40px;z-index:1000;font-family:'Bebas Neue',sans-serif;font-size:4rem;opacity:.3;letter-spacing:-2px;mix-blend-mode:difference;pointer-events:none}

        /* Cover */
        .cover{background:linear-gradient(135deg,var(--bg) 0%,var(--bg-alt) 100%);overflow:hidden}
        .cover-content{text-align:center;z-index:10}
        .cover-issue{font-size:.9rem;letter-spacing:8px;font-weight:300;margin-bottom:3rem;opacity:.7;animation:fadeUp .8s ease .2s both}
        .cover-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(6rem,15vw,18rem);line-height:.85;letter-spacing:-5px;margin-bottom:2rem;text-transform:uppercase;animation:fadeUp .8s ease .3s both}
        .cover-title .name-first{display:block}
        .cover-title .name-last{display:block;color:var(--accent);font-style:italic}
        .cover-subtitle{font-family:'Playfair Display',serif;font-size:1.4rem;font-style:italic;letter-spacing:2px;margin-top:2rem;animation:fadeUp .8s ease .4s both}
        .cover-year{position:absolute;bottom:60px;left:50%;transform:translateX(-50%) translateZ(0);font-family:'Bebas Neue',sans-serif;font-size:8rem;opacity:.05;letter-spacing:20px;pointer-events:none}
        .cover-line{position:absolute;background:var(--text);opacity:.1;pointer-events:none}
        .cover-line-top{top:25%;left:10%;width:300px;height:2px}
        .cover-line-bottom{bottom:30%;right:15%;width:200px;height:2px;transform:rotate(-5deg) translateZ(0)}
        @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

        /* Editorial */
        .editorial{background:var(--bg-alt);padding:8rem 5vw}
        .editorial-grid{display:grid;grid-template-columns:1.2fr 1fr;gap:4rem;max-width:1600px;width:100%;align-items:center}
        .editorial-kicker{font-size:.75rem;letter-spacing:5px;text-transform:uppercase;color:var(--accent);margin-bottom:2rem;font-weight:500}
        .editorial-headline{font-family:'Bebas Neue',sans-serif;font-size:clamp(3rem,6vw,7rem);line-height:.9;margin-bottom:3rem;letter-spacing:-2px;text-transform:uppercase}
        .editorial-body{font-size:1.1rem;line-height:1.8;font-weight:300;color:rgba(255,255,255,.8)}
        .editorial-body p{margin-bottom:1.5rem}
        .editorial-signature{margin-top:3rem;font-family:'Playfair Display',serif;font-size:1.8rem;font-style:italic;opacity:.6}
        .editorial-image-wrap{position:relative;height:600px;overflow:hidden}
        .editorial-image{width:100%;height:100%;object-fit:cover;filter:grayscale(20%) contrast(110%);transition:transform .5s ease,filter .5s ease;transform:translateZ(0)}
        .editorial-image-wrap:hover .editorial-image{transform:scale(1.05) translateZ(0);filter:grayscale(0%) contrast(115%)}
        .editorial-number{position:absolute;bottom:-10%;right:-5%;font-family:'Bebas Neue',sans-serif;font-size:25rem;color:var(--accent);opacity:.08;pointer-events:none;user-select:none}

        /* Collection */
        .collection-dark{background:var(--bg);color:var(--text);padding:8rem 5vw;min-height:100vh}
        .collection-title-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) translateZ(0);font-family:'Bebas Neue',sans-serif;font-size:clamp(8rem,15vw,20rem);color:var(--text);opacity:.05;letter-spacing:-5px;pointer-events:none;user-select:none}
        .collection-spread{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,45vh);gap:1.5rem;max-width:1800px;width:100%;position:relative;z-index:2}
        .collection-item{position:relative;overflow:hidden;background:#0a0a0a}
        .collection-item:nth-child(1){grid-column:span 2;grid-row:span 2}
        .collection-item img{width:100%;height:100%;object-fit:cover;transition:transform .6s ease,filter .6s ease;filter:grayscale(30%) contrast(120%);transform:translateZ(0)}
        .collection-item:hover img{transform:scale(1.08) translateZ(0);filter:grayscale(0%) contrast(130%)}
        .collection-caption{position:absolute;bottom:0;left:0;right:0;padding:2rem;background:linear-gradient(0deg,rgba(0,0,0,.9) 0%,transparent 100%);opacity:0;transition:opacity .3s ease}
        .collection-item:hover .collection-caption{opacity:1}
        .collection-caption h3{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:2px;margin-bottom:.3rem}
        .collection-caption p{font-size:.85rem;opacity:.8}

        /* Full Bleed */
        .fullbleed{background:var(--bg);padding:0;height:100vh}
        .fullbleed-image{width:100%;height:100%;object-fit:cover;filter:contrast(115%) saturate(90%)}
        .fullbleed-text{position:absolute;bottom:8%;left:8%;font-family:'Bebas Neue',sans-serif;font-size:clamp(4rem,10vw,12rem);color:var(--text);text-shadow:2px 2px 20px rgba(0,0,0,.8);line-height:.85;letter-spacing:-3px;text-transform:uppercase;mix-blend-mode:difference;pointer-events:none}
        .fullbleed-subtitle{position:absolute;top:8%;right:8%;writing-mode:vertical-rl;transform:rotate(180deg) translateZ(0);font-size:1rem;letter-spacing:8px;color:var(--text);text-transform:uppercase;font-weight:300;mix-blend-mode:difference;pointer-events:none}

        /* Masonry */
        .masonry-section{background:var(--bg-alt);padding:8rem 5vw;min-height:100vh}
        .masonry-header{margin-bottom:4rem}
        .masonry-header h2{font-family:'Bebas Neue',sans-serif;font-size:5rem;letter-spacing:-2px;margin-bottom:.5rem}
        .masonry-header p{font-size:.9rem;letter-spacing:3px;text-transform:uppercase;opacity:.6}
        .masonry-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;max-width:1600px;margin:0 auto}
        .masonry-item{position:relative;overflow:hidden;background:var(--bg);box-shadow:5px 5px 20px rgba(255,255,255,.05);transition:transform .3s ease;height:400px;transform:translateZ(0)}
        .masonry-item:hover{transform:translateY(-10px) rotate(-2deg) translateZ(0);z-index:20}
        .masonry-item:nth-child(1){grid-column:span 2;grid-row:span 2;height:auto}
        .masonry-item:nth-child(2){grid-column:span 1;grid-row:span 2;height:auto}
        .masonry-item:nth-child(4){grid-column:span 2}
        .masonry-item:nth-child(5){grid-column:span 2}
        .masonry-item img{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;transform:translateZ(0)}
        .masonry-item:hover img{transform:scale(1.08) translateZ(0)}
        .masonry-item::before{content:'';position:absolute;top:-5px;left:50%;transform:translateX(-50%) translateZ(0);width:60px;height:25px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);z-index:10}

        /* Design 4 Spotlight */
        .design4-spotlight{background:var(--bg);padding:8rem 5vw;min-height:100vh}
        .design4-container{max-width:1800px;width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:50vh 50vh;gap:2rem;position:relative}
        .design4-hero{grid-column:span 2;position:relative;overflow:hidden;background:#0a0a0a}
        .design4-hero img{width:100%;height:100%;object-fit:cover;filter:contrast(115%) saturate(90%)}
        .design4-title{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:clamp(6rem,12vw,15rem);color:transparent;-webkit-text-stroke:2px var(--text);text-stroke:2px var(--text);letter-spacing:-5px;text-transform:uppercase;pointer-events:none;text-align:center;line-height:.85;z-index:100;filter:drop-shadow(0 0 20px rgba(255,255,255,.3)) drop-shadow(0 0 40px rgba(255,255,255,.2));font-weight:500}
        .design4-sub{position:relative;overflow:hidden;background:#0a0a0a}
        .design4-sub img{width:100%;height:100%;object-fit:cover;transition:transform .6s ease;transform:translateZ(0)}
        .design4-sub:hover img{transform:scale(1.1) translateZ(0)}
        .design4-number{position:absolute;top:20px;left:20px;font-family:'Bebas Neue',sans-serif;font-size:3rem;color:var(--text);opacity:.8;letter-spacing:-2px;background:rgba(0,0,0,.7);padding:.5rem 1rem}

        /* Backstage */
        .backstage{background:var(--bg-alt);padding:8rem 5vw}
        .backstage-layout{display:grid;grid-template-columns:1fr;gap:2rem;max-width:1600px;width:100%;min-height:60vh}
        .backstage-text{padding:3rem;display:flex;flex-direction:column;justify-content:center;background:var(--bg);color:var(--text)}
        .backstage-text h2{font-family:'Bebas Neue',sans-serif;font-size:4.5rem;line-height:.9;margin-bottom:2rem;letter-spacing:-2px}
        .backstage-text p{font-size:1rem;line-height:1.9;font-weight:300;margin-bottom:1.5rem;opacity:.9}
        .backstage-quote{margin-top:2rem;padding-top:2rem;border-top:2px solid rgba(255,255,255,.2);font-family:'Playfair Display',serif;font-size:1.5rem;font-style:italic;color:var(--accent)}
        .backstage-image{position:relative;overflow:hidden;background:#0a0a0a;height:400px}
        .backstage-image img{width:100%;height:100%;object-fit:cover;filter:saturate(80%)}
        .backstage-label{position:absolute;bottom:10px;right:10px;background:var(--text);color:var(--bg);padding:.5rem 1rem;font-size:.7rem;letter-spacing:2px;text-transform:uppercase;font-weight:500}

        /* Design 5 Finale */
        .design5-finale{background:var(--bg);padding:0;min-height:100vh;position:relative;overflow:hidden}
        .design5-grid{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,50vh);gap:0;width:100%;height:100vh}
        .design5-cell{position:relative;overflow:hidden;background:#0a0a0a}
        .design5-cell::after{content:'';position:absolute;inset:0;background:linear-gradient(45deg,#0a0a0a 25%,#1a1a1a 25%,#1a1a1a 50%,#0a0a0a 50%,#0a0a0a 75%,#1a1a1a 75%);background-size:20px 20px;opacity:0;animation:loading 1s linear infinite;pointer-events:none}
        .design5-cell img.loaded+*::after,.design5-cell img.loaded~*::after{opacity:0!important}
        @keyframes loading{0%{background-position:0 0}100%{background-position:20px 20px}}
        .design5-cell img{width:100%;height:100%;object-fit:cover;filter:grayscale(20%) contrast(115%);transition:all .8s ease;transform:translateZ(0)}
        .design5-cell:hover img{filter:grayscale(0%) contrast(125%);transform:scale(1.15) translateZ(0)}
        .design5-overlay{position:absolute;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .4s ease;z-index:10}
        .design5-cell:hover .design5-overlay{opacity:1}
        .design5-label{font-family:'Bebas Neue',sans-serif;font-size:4rem;color:var(--text);letter-spacing:-2px;text-shadow:2px 2px 10px rgba(0,0,0,.8)}
        .design5-title-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:clamp(8rem,18vw,22rem);color:var(--text);letter-spacing:-8px;text-transform:uppercase;line-height:.8;text-align:center;pointer-events:none;z-index:10;text-shadow:4px 4px 40px rgba(0,0,0,.9);mix-blend-mode:difference}
        .design5-subtitle{position:absolute;bottom:5%;left:50%;transform:translateX(-50%);font-size:1rem;letter-spacing:8px;text-transform:uppercase;color:var(--text);opacity:.7;z-index:10}

        /* Contact */
        .contact{background:var(--bg);color:var(--text);padding:8rem 5vw}
        .contact-content{text-align:center;max-width:900px}
        .contact-heading{font-family:'Bebas Neue',sans-serif;font-size:clamp(5rem,12vw,15rem);line-height:.85;margin-bottom:3rem;letter-spacing:-5px}
        .contact-subtext{font-size:1.2rem;margin-bottom:4rem;opacity:.7;font-weight:300;line-height:1.6}
        .contact-links{display:flex;gap:3rem;justify-content:center;flex-wrap:wrap}
        .contact-link{text-decoration:none;color:var(--text);display:flex;flex-direction:column;align-items:center;gap:.8rem;transition:transform .3s ease;transform:translateZ(0)}
        .contact-link:hover{transform:translateY(-5px) translateZ(0)}
        .contact-link-label{font-size:.7rem;letter-spacing:3px;text-transform:uppercase;opacity:.5}
        .contact-link-text{font-family:'Bebas Neue',sans-serif;font-size:2rem;letter-spacing:1px;border-bottom:2px solid transparent;transition:border-color .3s ease}
        .contact-link:hover .contact-link-text{border-bottom-color:var(--text)}
        .contact-footer{margin-top:5rem;font-size:.8rem;opacity:.4;letter-spacing:2px}

        /* Fade utility */
        .fade-in-element{opacity:0;transform:translateY(20px);transition:opacity .5s ease,transform .5s ease}
        .fade-in-element.visible{opacity:1;transform:translateY(0)}

        /* Responsive */
        @media(max-width:1024px){
            .logo-fixed{writing-mode:horizontal-tb;transform:none;font-size:.9rem}
            .page-counter{font-size:2.5rem}
            .editorial-grid,.backstage-layout{grid-template-columns:1fr;height:auto}
            .collection-spread{grid-template-columns:1fr;grid-template-rows:repeat(3,300px)}
            .collection-item:nth-child(n){grid-column:span 1!important;grid-row:span 1!important}
            .masonry-grid{grid-template-columns:repeat(2,1fr)}
            .masonry-item:nth-child(n){grid-column:span 1!important;grid-row:span 1!important}
            .design4-container{grid-template-columns:1fr;grid-template-rows:auto}
            .design4-hero{grid-column:span 1;height:60vh}
            .design4-sub{height:40vh}
            .design5-grid{grid-template-columns:1fr;grid-template-rows:repeat(4,40vh)}
        }
        @media(max-width:640px){
            .cover-title{font-size:4rem}
            .editorial-headline{font-size:3rem}
            .fullbleed-text{font-size:3rem}
            .masonry-grid{grid-template-columns:1fr}
            section{padding:4rem 5vw}
        }
    </style>
</head>
<body>
    <div class="logo-fixed">JOAN VERGE FLORES</div>
    <div class="page-counter">01</div>

    <section class="cover">
        <div class="cover-line cover-line-top"></div>
        <div class="cover-line cover-line-bottom"></div>
        <div class="cover-content">
            <div class="cover-issue">N° 001 PORTFOLIO DISSENY DE MODA</div>
            <h1 class="cover-title">
                <span class="name-first">JOAN</span>
                <span class="name-last">VERGE</span>
            </h1>
            <p class="cover-subtitle">vrgn.flwrs</p>
        </div>
        <div class="cover-year">JVF</div>
    </section>

    <section class="editorial">
        <div class="editorial-grid">
            <div class="editorial-left">
                <div class="editorial-kicker">ESTUDIANT DE MODA / BAU</div>
                <h2 class="editorial-headline">REIVINDICANT<br>I COMUNICANT<br>A TRAVÉS<br>DEL DISSENY</h2>
                <div class="editorial-body fade-in-element">
                    <p>Com a estudiant de moda, entenc el disseny com una eina de comunicació i reivindicació. Mitjançant les meves peces, busco expressar idees, emocions i reflexions
sobre el món que m’envolta. Cada creació és una resposta visual a allò que observo, una manera de donar veu a allò que sovint passa desapercebut.
El meu interès per la moda neix de la curiositat per entendre la realitat i transformar-la en llenguatge visual. M’inspiro en les persones, en els espais i en les tensions
socials i culturals del nostre temps. A través del procés creatiu, busco construir narratives que connectin amb qui observa i vesteix, reivindicant la moda com una
forma d’expressió i pensament</p>
                    </div>
                <div class="editorial-signature">Joan Verge Flores</div>
            </div>
            <div class="editorial-image-wrap">
                <picture>
                    <source srcset="DISSENYS-WEBP/main.webp" type="image/webp">
                    <img src="DISSENYS/main.JPG" alt="Editorial Portrait" class="editorial-image" fetchpriority="high" decoding="async">
                </picture>
                <div class="editorial-number">01</div>
            </div>
        </div>
    </section>

    <section class="collection-dark">
        <div class="collection-title-overlay">DISEÑO 1</div>
        <div class="collection-spread">
            <div class="collection-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/1-diseño1-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/1-diseño1.webp" type="image/webp">
                    <img src="DISSENYS/1-diseño1.JPG" alt="Diseño 1 - Vista Principal" loading="lazy" decoding="async" class="img-main">
                </picture>
                <div class="collection-caption">
                    <h3>LIMITS NO LIMITS</h3>
                    <p>Vista General</p>
                </div>
            </div>
            <div class="collection-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/1-diseño2-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/1-diseño2.webp" type="image/webp">
                    <img src="DISSENYS/1-diseño2.JPG" alt="Diseño 1 - Detalle" loading="lazy" decoding="async" class="img-main">
                </picture>
                <div class="collection-caption">
                    <h3>LIMITS NO LIMITS</h3>
                </div>
            </div>
            <div class="collection-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/1-diseño3-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/1-diseño3.webp" type="image/webp">
                    <img src="DISSENYS/1-diseño3.JPG" alt="Diseño 1 - Alternativa" loading="lazy" decoding="async" class="img-main">
                </picture>
                <div class="collection-caption">
                    <h3>LIMITS NO LIMITS</h3>
                </div>
            </div>
        </div>
    </section>

    <section class="fullbleed">
        <picture>
            <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/2-diseño1-mobile.webp" type="image/webp">
            <source srcset="DISSENYS-WEBP/2-diseño1.webp" type="image/webp">
            <img src="DISSENYS/2-diseño1.JPG" alt="Diseño 2 Full Bleed" class="fullbleed-image" loading="lazy" decoding="async">
        </picture>
        <div class="fullbleed-subtitle">DISEÑO 2</div>
        <div class="fullbleed-text">BEYOND<br>FASHION</div>
    </section>

    <section class="masonry-section">
        <div class="masonry-header">
            <h2>CAMINS I TRAVESSES</h2>
        </div>
        <div class="masonry-grid">
            <div class="masonry-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/3-diseño1-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/3-diseño1.webp" type="image/webp">
                    <img src="DISSENYS/3-diseño1.JPG" alt="Diseño 3 - Vista 1" loading="lazy" decoding="async">
                </picture>
            </div>
            <div class="masonry-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/3-diseño2-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/3-diseño2.webp" type="image/webp">
                    <img src="DISSENYS/3-diseño2.JPG" alt="Diseño 3 - Vista 2" loading="lazy" decoding="async">
                </picture>
            </div>
            <div class="masonry-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/3-diseño3-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/3-diseño3.webp" type="image/webp">
                    <img src="DISSENYS/3-diseño3.JPG" alt="Diseño 3 - Vista 3" loading="lazy" decoding="async">
                </picture>
            </div>
            <div class="masonry-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/3-diseño4-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/3-diseño4.webp" type="image/webp">
                    <img src="DISSENYS/3-diseño4.JPG" alt="Diseño 3 - Vista 4" loading="lazy" decoding="async">
                </picture>
            </div>
            <div class="masonry-item fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/3-diseño5-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/3-diseño5.webp" type="image/webp">
                    <img src="DISSENYS/3-diseño5.JPG" alt="Diseño 3 - Vista 5" loading="lazy" decoding="async">
                </picture>
            </div>
        </div>
    </section>

    <section class="design4-spotlight">
        <div class="design4-container">
            <div class="design4-title">Entre l'Oblit<br>i la Mem&ograve;ria</div>
            <div class="design4-hero fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/4-diseño4-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/4-diseño4.webp" type="image/webp">
                    <img src="DISSENYS/4-diseño4.JPG" alt="Diseño 4 - Hero Shot" loading="lazy" decoding="async">
                </picture>
            </div>
            <div class="design4-sub fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/4-diseño1-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/4-diseño1.webp" type="image/webp">
                    <img src="DISSENYS/4-diseño1.JPG" alt="Diseño 4 - Vista 1" loading="lazy" decoding="async">
                </picture>
                <div class="design4-number">4.1</div>
            </div>
            <div class="design4-sub fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/4-diseño2-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/4-diseño2.webp" type="image/webp">
                    <img src="DISSENYS/4-diseño2.JPG" alt="Diseño 4 - Vista 2" loading="lazy" decoding="async">
                </picture>
                <div class="design4-number">4.2</div>
            </div>
        </div>
    </section>

    <section class="backstage">
        <div class="backstage-layout">
            <div class="backstage-text">
                <h2>LA MEVA FILOSOFIA<br>DE DISSENY</h2>
                <p>Crec en una moda amb propòsit, que vagi més enllà de l’estètica i estableixi un diàleg amb la realitat que ens envolta.
El meu enfocament se centra en crear peces funcionals que no només vesteixin el cos, sinó que també qüestionin i convidin a la reflexió.
Cada disseny neix de la investigació i l’observació. M’interessa experimentar amb materials, formes i tècniques que esdevinguin eines de pensament crític i expressió conscient.
Busco processos sostenibles que respectin tant les persones com el planeta, donant significat a cada elecció creativa.</p>
                <div class="backstage-quote">"Dissenyar és donar forma a una idea que pot ser útil i, alhora, provocar."</div>
            </div>
            <div class="backstage-image fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/2-diseño2-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/2-diseño2.webp" type="image/webp">
                    <img src="DISSENYS-WEBP/2-diseño2.webp" alt="Proceso creativo" loading="lazy" decoding="async">
                </picture>
            </div>
        </div>
    </section>

    <section class="design5-finale">
        <div class="design5-title-center">Sota<br>l’uniforme</div>
        <div class="design5-grid">
            <div class="design5-cell fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/5-diseño1-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/5-diseño1.webp" type="image/webp">
                    <img src="DISSENYS/5-diseño1.JPG" alt="Diseño 5 - Vista 1" loading="lazy" decoding="async">
                </picture>
                <div class="design5-overlay">
                    <div class="design5-label">5.1</div>
                </div>
            </div>
            <div class="design5-cell fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/5-diseño2-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/5-diseño2.webp" type="image/webp">
                    <img src="DISSENYS/5-diseño2.JPG" alt="Diseño 5 - Vista 2" loading="lazy" decoding="async">
                </picture>
                <div class="design5-overlay">
                    <div class="design5-label">5.2</div>
                </div>
            </div>
            <div class="design5-cell fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/5-diseño3-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/5-diseño3.webp" type="image/webp">
                    <img src="DISSENYS/5-diseño3.JPG" alt="Diseño 5 - Vista 3" loading="lazy" decoding="async">
                </picture>
                <div class="design5-overlay">
                    <div class="design5-label">5.3</div>
                </div>
            </div>
            <div class="design5-cell fade-in-element">
                <picture>
                    <source media="(max-width: 768px)" srcset="DISSENYS-WEBP/5-diseño4-mobile.webp" type="image/webp">
                    <source srcset="DISSENYS-WEBP/5-diseño4.webp" type="image/webp">
                    <img src="DISSENYS/5-diseño4.JPG" alt="Diseño 5 - Vista 4" loading="lazy" decoding="async">
                </picture>
                <div class="design5-overlay">
                    <div class="design5-label">5.4</div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact">
        <div class="contact-content">
            <h2 class="contact-heading">CONTACTA<br>AMB MI</h2>
            <div class="contact-links">
                <a href="mailto:jvf3710@gmail.com" class="contact-link">
                    <span class="contact-link-label">Email</span>
                    <span class="contact-link-text">jvf3710@gmail.com</span>
                </a>
                <a href="https://instagram.com/vrgn.flwrs" target="_blank" class="contact-link" rel="noopener">
                    <span class="contact-link-label">Instagram</span>
                    <span class="contact-link-text">@vrgn.flwrs</span>
                </a>
            </div>
            <div class="contact-footer">© 2025 JOAN VERGE FLORES — ALL RIGHTS RESERVED</div>
        </div>
    </section>

    <script>
        // Register Service Worker for aggressive caching
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered:', registration.scope);

                        // Send list of images to precache
                        const imagesToCache = Array.from(document.querySelectorAll('img'))
                            .map(img => {
                                // Get the WebP source from picture element if available
                                const picture = img.closest('picture');
                                if (picture) {
                                    const source = picture.querySelector('source[type="image/webp"]');
                                    if (source) return source.srcset;
                                }
                                return img.src;
                            })
                            .filter(url => url && url.includes('.webp'));

                        // Send to SW after a delay to avoid blocking
                        setTimeout(() => {
                            if (registration.active) {
                                registration.active.postMessage({
                                    type: 'PRECACHE_IMAGES',
                                    urls: imagesToCache
                                });
                            }
                        }, 3000);
                    })
                    .catch((error) => {
                        console.log('SW registration failed:', error);
                    });
            });
        }

        // Optimized image loading system
        const imageLoader = {
            loaded: new Set(),
            loading: new Set(),

            // Load image with decode
            load(img) {
                if (this.loaded.has(img) || this.loading.has(img)) return Promise.resolve();
                this.loading.add(img);

                return new Promise((resolve) => {
                    const finish = () => {
                        img.classList.add('loaded');
                        this.loading.delete(img);
                        this.loaded.add(img);
                        resolve();
                    };

                    if (img.complete && img.naturalWidth > 0) {
                        finish();
                    } else {
                        // Use decode() for better performance
                        img.decode()
                            .then(finish)
                            .catch(() => {
                                // Fallback to onload
                                img.onload = finish;
                                img.onerror = finish;
                            });
                    }
                });
            },

            // Preload next images in idle time
            preloadNext(imgs, startIndex) {
                const idleCallback = window.requestIdleCallback || ((cb) => setTimeout(cb, 1));

                const preloadBatch = () => {
                    const batch = imgs.slice(startIndex, startIndex + 3);
                    batch.forEach(img => this.load(img));

                    if (startIndex + 3 < imgs.length) {
                        idleCallback(() => {
                            this.preloadNext(imgs, startIndex + 3);
                        });
                    }
                };

                idleCallback(preloadBatch);
            }
        };

        // Viewport observer for lazy loading
        const lazyObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    imageLoader.load(img);
                    lazyObserver.unobserve(img);
                }
            });
        }, {
            rootMargin: '300px 0px', // Load 300px before entering viewport
            threshold: 0
        });

        // Initialize on DOM ready
        document.addEventListener('DOMContentLoaded', () => {
            const allImages = Array.from(document.querySelectorAll('img'));

            // Separate critical images (fetchpriority="high")
            const criticalImages = allImages.filter(img => img.getAttribute('fetchpriority') === 'high');
            const lazyImages = allImages.filter(img => img.loading === 'lazy');

            // Load critical images immediately
            criticalImages.forEach(img => imageLoader.load(img));

            // Observe lazy images
            lazyImages.forEach(img => lazyObserver.observe(img));

            // Preload remaining images during idle time
            if (lazyImages.length > 0) {
                imageLoader.preloadNext(lazyImages, 0);
            }

            // Boost loading on first interaction
            const boost = () => {
                lazyImages.forEach(img => imageLoader.load(img));
            };
            ['scroll', 'mousemove', 'touchstart'].forEach(event => {
                window.addEventListener(event, boost, { once: true, passive: true });
            });
        });

        // Fade-in animation observer
        const fadeObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        });

        document.querySelectorAll('.fade-in-element').forEach(el => fadeObserver.observe(el));

        // Page counter
        const sections = document.querySelectorAll('section');
        const counter = document.querySelector('.page-counter');
        let currentSection = 1;

        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const index = Array.from(sections).indexOf(entry.target) + 1;
                    if (index !== currentSection) {
                        currentSection = index;
                        counter.textContent = index.toString().padStart(2, '0');
                    }
                }
            });
        }, { threshold: 0.5 });

        sections.forEach(section => sectionObserver.observe(section));

        // Parallax effect on cover
        const cover = document.querySelector('.cover');
        const coverTitle = document.querySelector('.cover-title');
        let rafPending = false;

        cover.addEventListener('mousemove', (e) => {
            if (!rafPending) {
                rafPending = true;
                requestAnimationFrame(() => {
                    const x = (e.clientX / window.innerWidth - 0.5) * 20;
                    const y = (e.clientY / window.innerHeight - 0.5) * 20;
                    coverTitle.style.transform = `translate(${x}px, ${y}px)`;
                    rafPending = false;
                });
            }
        });
    </script>
</body>
</html>
